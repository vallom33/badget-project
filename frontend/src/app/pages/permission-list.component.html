<div class="form-container">
  <h3>â• Add Permission</h3>
  <form (ngSubmit)="addPermission()">
    <label>
      ğŸ‘¤ Name:
      <input [(ngModel)]="newPermission.username" name="username" required />
    </label>
    <label>
      ğŸ“ Description:
      <input [(ngModel)]="newPermission.description" name="description" required />
    </label>
    <label>
      ğŸ‘¥ User:
      <select [(ngModel)]="selectedUserId" name="userId" required>
        <option [ngValue]="null" disabled selected>Select User</option>
        <option *ngFor="let user of users" [value]="user.id">{{ user.username }}</option>
      </select>
    </label>

    <button type="submit">âœ… Add Permission</button>
  </form>
</div>

<hr />

<div class="list-container">
  <h3>ğŸ” Permissions List</h3>
  <ul>
    <li *ngFor="let p of permissions">
      <div class="permission-info">
        ğŸ‘¤ <strong>{{ p.username }}</strong> <br />
        ğŸ“ <em>{{ p.description }}</em> <br />
        ğŸ‘¥ Assigned To: 
        <span *ngIf="p.user">{{ p.user.username }}</span>
        <span *ngIf="!p.user">-</span>
      </div>
      <div class="actions">
        <a [routerLink]="['/permissions/edit', p.id]">âœï¸ Edit</a>
        <button (click)="p.id && deletePermission(p.id)">âŒ Delete</button>
      </div>
    </li>
  </ul>
</div>
