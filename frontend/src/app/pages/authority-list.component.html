<!-- src/app/pages/authority-list.component.html -->

<h2>الصلاحيات</h2>

<form (ngSubmit)="addAuthority()" #authForm="ngForm" class="compact-form">
  <!-- اختيار المستخدم -->
  <select
    [(ngModel)]="newAuth.username"
    name="username"
    required
    >
    <option value="" disabled selected>— choose a user —</option>
    <option *ngFor="let u of users" [value]="u.username">
      {{ u.username }}
    </option>
  </select>

  <!-- حقل الدور -->
  <input
    [(ngModel)]="newAuth.role"
    name="role"
    placeholder="Role"
    required
  />

  <button type="submit" [disabled]="authForm.invalid">Add</button>
</form>

<hr />

<div class="scrollable">
  <ul>
    <li *ngFor="let a of authorites" class="item">
      👤 {{ a.username }} | 🔐 {{ a.role }}
      <button (click)="deleteAuthority(a.id!)">Delete</button>
    </li>
  </ul>
</div>
